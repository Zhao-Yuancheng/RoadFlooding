### 一、安装环境

1. 安装Anaconda软件，安装包下载地址：https://www.anaconda.com/download，版本不做要求；
2. 用VSCode或pycharm打开代码文件夹，如果使用VSCode，打开VSCode终端，选择 Command Prompt**（快捷键：Ctrl + ~）**，如果使用pycharm，打开终端**（快捷键：Alt + F12）**；
3. 创建虚拟环境，在终端输入：conda create --name yolov8 python=3.10
4. 激活虚拟环境，在终端输入：conda activate yolov8
5. 使用 cd 命令进入代码目录，保证当前目录为 ultralytics-main，路径中尽量不要有中文；
6. 下载依赖，在终端输入：pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple



### 二、执行训练

**1、**将数据集目录下的训练、验证、测试集当中，Annotations里的所有xml文件进行合并，统一复制到项目根目录data文件夹下的Annotations中（复制xml文件，不是文件夹）；

**2、**将数据集目录下的训练、验证、测试集当中，images里的所有jpg文件进行合并，统一复制到项目根目录data文件夹下的images中（复制jpg文件，不是文件夹）；

此时目录如下：

```
data
——Annotations
————111.xml
————222.xml
——images
————111.jpg
————222.jpg
——ImageSets（文件夹置空）
——labels（文件夹置空）
```

**3、**终端运行：python split\_train\_val.py

**4、**修改 voc_label.py 代码中，第 6 行的 classes = ['annotations']，将 ['annotations'] 修改为数据集文件夹下 data.yaml 中 names 后边中括号的内容，如：

```python
train: ../train/images
val: ../valid/images
test: ../test/images

nc: 3
names: ['Lying', 'Sitting', 'Standing']
```

此时将 classes = ['annotations'] ，改为 classes = ['Lying', 'Sitting', 'Standing']

然后终端运行：python voc\_label.py；

**5、**将代码目录下的 wheat.yaml 中第 7 行的 names: ['annotations'] ，替换为数据集目录下的 data.yaml 中的 names: ['Lying', '...............................']，names中括号的内容和 voc_label.py 里classes中括号的内容保持一致；

**6、**终端运行：python train.py    (如果需要修改训练轮数，自己修改epoch，如果电脑没有gpu，删除代码“device=0”)，训练结果会默认保存在runs/detect目录中；

**7、**predict_pic.py 和 predict_video.py 为推理文件，需要自己自定义路径，代码中含有中文注释的部分！！！

**注：**训练好的模型自动保存在 runs/train/weights 目录下，best.pt 为结果最好的模型，使用该模型即可。



——————————————————————————————————————————————————

**CSDN技术博客**：**CV小涵   https://blog.csdn.net/kyriehan?spm=1010.2135.3001.5343**

如需其他**数据集和系统**，请联系**QQ 1060289861**。

可付费提供远程环境配置、软件界面修改定制以及模型代训练等服务。



